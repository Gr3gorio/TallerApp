<app-header [isModal]='true' title="Agregar Recepcion"></app-header>
<ion-content>

    <form [formGroup]="form" class="ion-padding ion-text-center" (ngSubmit)="submit()" (keypress.enter)="submit()">

        <!--Si existe imagen-->
        <ion-avatar *ngIf="form.value.image">
            <img [src]="form.value.image"/>
        </ion-avatar>

         <!--Si no existe imagen-->
         <ion-icon class="image-icon" *ngIf="!form.value.image" name="image-outline"></ion-icon>
        

         <br>
        <!--Tomar o seleccionar imagen-->
        <ion-button (click)="takeImage()" mode="ios" size="small" shape="round">
            Tomar/Seleccionar
        </ion-button>
  
        <!------------Name--------->
        <app-custom-input 
        autocomplete="name"
        
        [control]="form.controls.name"
        type="text"
        label="Nombre"
        ></app-custom-input>
     
        <div class="validators" *ngIf="form.controls.name.errors && form.controls.name.touched ">
          <div *ngIf="form.controls.name.errors ?.['required']">Este campo es requerido</div>
          <div *ngIf="form.controls.name.errors ?.['minlenght']">El nombre debe tener al menos 4 caracteres</div>
        </div>

        <!------------Fecha--------->
        <app-custom-input 
        [control]="form.controls.fechaIngreso"
        type="date"
        label="Fecha"
        ></app-custom-input>
        <div class="validators" *ngIf="form.controls.fechaIngreso.errors && form.controls.fechaIngreso.touched ">
            <div *ngIf="form.controls.fechaIngreso.errors ?.['required']">Este campo es requerido</div>         
        </div>

         <!------------Tipo de Vehiculo--------->
         <app-custom-input  
         [control]="form.controls.tipoVehiculo"
         type="text"
         label="Tipo de Vehiculo"
         ></app-custom-input>     
         <div class="validators" *ngIf="form.controls.tipoVehiculo.errors && form.controls.tipoVehiculo.touched ">
           <div *ngIf="form.controls.tipoVehiculo.errors ?.['required']">Este campo es requerido</div>
         </div>

          <!------------Patente--------->
        <app-custom-input 
        [control]="form.controls.patente"
        type="text"
        label="Patente"
        ></app-custom-input>
     
        <div class="validators" *ngIf="form.controls.patente.errors && form.controls.patente.touched ">
          <div *ngIf="form.controls.patente.errors ?.['required']">Este campo es requerido</div>
          <div *ngIf="form.controls.patente.errors ?.['minlenght']">La patente debe tener al menos 4 caracteres</div>
        </div>

           <!------------Reparacion--------->
           <app-custom-input 
           [control]="form.controls.reparacion"
           type="text"
           label="Reparacion"
           ></app-custom-input>
        
           <div class="validators" *ngIf="form.controls.reparacion.errors && form.controls.reparacion.touched ">
             <div *ngIf="form.controls.reparacion.errors ?.['required']">Este campo es requerido</div>
             <div *ngIf="form.controls.reparacion.errors ?.['minlenght']">La descripcion debe tener al menos 4 caracteres</div>
           </div>

           <!------------Monto--------->
           <app-custom-input 
           [control]="form.controls.monto"
           type="text"
           label="Monto"
           ></app-custom-input>
        
           <div class="validators" *ngIf="form.controls.monto.errors && form.controls.monto.touched ">
             <div *ngIf="form.controls.monto.errors ?.['required']">Este campo es requerido</div>
             <div *ngIf="form.controls.monto.errors ?.['min']">El monto minimo debe ser 0</div>
           </div>

            <!------------Numero de Whatsapp--------->
            <app-custom-input 
            [control]="form.controls.numWpp"
            type="number"
            label="Numero de Whatsapp"
            ></app-custom-input>
          
            <div class="validators" *ngIf="form.controls.numWpp.errors && form.controls.numWpp.touched ">
              <div *ngIf="form.controls.monto.errors ?.['required']">Este campo es requerido</div>
              <div *ngIf="form.controls.monto.errors ?.['min']">El numero debe tener al menos 10 d√≠gitos </div>
            </div>   
        <ion-button   mode="ios" class="ion-margin" type="submit" [disabled]="form.invalid">
          Agregar Recepcion
          <ion-icon slot="end" name="checkmark-circle-outline"></ion-icon>
        </ion-button>
  
       
  
      </form>

</ion-content>